import{ae as y,u as E,I as x,n as V,O as o,y as r,a as k,o as h,r as t,L as b,q as d,aM as B,aN as N,a7 as c,aO as C,ac as I,ab as L}from"./index-CVVgb_0u.js";/* empty css             *//* empty css                  *//* empty css               */import{E as R}from"./index-Dzl3yFnS.js";import{E as f}from"./index-UYW-ElF2.js";import{E as A,a as S}from"./index-DiwPX_9p.js";import"./_Uint8Array-CoH_bIvD.js";import"./_baseClone-Dphu8_al.js";import"./_initCloneObject-FQE32oAL.js";const U={class:"login-container"},F={__name:"login",setup(K){const u=E(),l=k(),s=x({username:"",password:""}),p=async()=>{try{const a=await C(s.value.username,s.value.password);a.successful?(u.login(a.data),u.isAdmin?l.push("/admin/devices"):l.push("/user/meters")):f.error(a.message||"Login failed")}catch(a){console.error(a.message),f.error("An error occurred during login")}},_=()=>{l.push("/register")};return(a,e)=>{const m=I,n=A,g=L,w=S,v=R;return h(),V("div",U,[o(v,{class:"login-card",shadow:"hover"},{default:r(()=>[e[4]||(e[4]=t("h2",{class:"login-title"},"Welcome Back!",-1)),e[5]||(e[5]=t("p",{class:"login-subtitle"},"Sign in to your account",-1)),o(w,{model:s.value,ref:"formRef","label-width":"0",size:"large",onKeyup:b(p,["enter"])},{default:r(()=>[o(n,{prop:"username"},{default:r(()=>[o(m,{modelValue:s.value.username,"onUpdate:modelValue":e[0]||(e[0]=i=>s.value.username=i),placeholder:"Username","prefix-icon":d(B)},null,8,["modelValue","prefix-icon"])]),_:1}),o(n,{prop:"password"},{default:r(()=>[o(m,{modelValue:s.value.password,"onUpdate:modelValue":e[1]||(e[1]=i=>s.value.password=i),placeholder:"Password",type:"password","prefix-icon":d(N)},null,8,["modelValue","prefix-icon"])]),_:1}),o(n,null,{default:r(()=>[o(g,{type:"primary",block:"",onClick:p,style:{width:"100%"}},{default:r(()=>e[2]||(e[2]=[c("Login")])),_:1})]),_:1}),t("p",{class:"register-link"},[e[3]||(e[3]=c(" Donâ€™t have an account? ")),t("span",{onClick:_},"Register Now")])]),_:1},8,["model"])]),_:1})])}}},G=y(F,[["__scopeId","data-v-916a5ea2"]]);export{G as default};
